# 远程教学服务模块演示指南

> 本指南用于产品/项目演示，覆盖管理员、医生、患者三端的核心远程教学流程。演示基于前端 Mock 数据（`src/api/mock/teaching.ts`），无需后端接口即可运行。若需恢复初始数据，可在浏览器控制台执行 `localStorage.removeItem('teaching.lectures.seed.v5')` 后刷新页面。

## 1. 环境准备

| 步骤 | 命令 | 说明 |
| --- | --- | --- |
| 安装依赖 | `npm install` | 首次克隆仓库后执行 |
| 启动前端 | `npm run dev` | 默认开启 Vite 开发服务器（http://127.0.0.1:5173/） |
| 可选：格式校验 | `npm run lint` | 若演示前需要静态检查，可额外运行 |

> **提示**：演示前建议关闭浏览器缓存模式，并在无痕窗口重新登录，保证 Mock 数据按预期初始化。

## 2. 演示账号（Mock 登录）

| 角色 | 账号 | 密码 | 说明 |
| --- | --- | --- | --- |
| 管理员 | `ADMIN001` | `admin123` | 访问 `/admin/teaching` 管理远程教学讲座 |
| 医院侧医生 | `DOC001` | `doctor123` | 拥有讲座发起人权限，默认组织吉林大学第二医院 |
| 患者 | `13800138000` | `password123` | 可在患者中心查看健康宣教及报名提醒 |

登录方式：从 `/login` 进入，选择对应用户类型（患者/医生/管理员），填写账号密码后登录。

## 3. 演示故事线概览

1. **医生端发起**：医院医生创建“远程教学讲座”并补充资料。
2. **管理员审核与调度**：管理员审核讲座、发布通知、控制报名/直播状态。
3. **患者端体验**：患者在“健康宣教”列表看到公开讲座，可报名接收提醒。
4. **医生端直播执行**：医生标记开播、上传课件，管理员可生成报告并归档。

下文对每个阶段提供详细步骤与截图要点。

## 4. 详细流程脚本

### 4.1 医生端：创建讲座

1. 以 `DOC001 / doctor123` 登录。
2. 在左侧菜单进入 **远程教学讲座**，点击右上角「发起讲座」。
3. 填写以下示例（可根据演示需求调整）：
   - 标题：`脑卒中患者居家康复远程指导`
   - 类型：`教学讨论`
   - 目标人群：`医患混合`
   - 可见范围：`网络`
   - 计划时间：选择 30 分钟后的时间
   - 讲座亮点：填写 2-3 条要点
4. 提交后自动跳转到医生端讲座详情页：
   - 讲座状态应显示为 `待审核`
   - 可在“资料与课件”卡片上传示例文件链接（例如 `康复操作要点.pdf`）。
5. 返回讲座列表确认新建条目已出现在顶部，并记录讲座 ID（URL 中的 `:id`）。

> **巡检点**：列表卡片应展示阶段标签（如「待审核」）、可见范围、报名人数。若缺失请在 demo 结束后反馈。

### 4.2 管理员端：审核与发布

1. 使用 `ADMIN001 / admin123` 登录，进入后台 **远程教学调度**。
2. 点击新建讲座的行进入详情页：
   - 核对基本信息。
   - 在右上角操作区依次执行：
     1. 「审核通过」：阶段进入 `已审核`。
     2. 「发布通知」：弹窗会预填摘要，可根据需要修改渠道与受众。
     3. （可选）「关闭报名」：用于演示报名截止流程。
3. 在“直播信息”卡片补充接入信息（若医生未填写，可提醒医生补全）。
4. 若需要演示后续环节，可点击「标记直播」「生成报告」「归档」等动作，观察时间线与状态变化。

> **巡检点**：
> - 操作完成后，顶部标签颜色与文案应实时更新。
> - “处理轨迹”时间轴会新增对应记录。
> - 通知发布后，患者端需能看到公开讲座（见下一节）。

### 4.3 患者端：查看与报名

1. 以 `13800138000 / password123` 登录患者中心。
2. 进入左侧 **健康宣教**：
   - 列表采用表格展示，默认按发布时间排序。
   - 新发布的公开讲座会出现在列表，点击标题进入详情。
3. 在讲座详情页：
   - 顶部卡片显示专家信息、讲座简介、亮点。
   - 「报名并提醒」按钮触发成功提示（模拟站内信提醒）。
   - `开课提醒` 卡片包含直播时间 / 链接（管理员或医生补充的内容）。
   - `资料下载` 列表展示医生上传的课件条目。

> **已知问题**：外部身份（如访客报名）暂未在参与人员列表中渲染；本次演示可在结果复盘环节说明，并记录需求：*报名成功的外部用户应在医生/管理员端的参与人员卡片内显示*。

### 4.4 直播执行与结项（可选）

1. 医生端详情页点击「标记直播开始」，状态进入直播中。
2. 同一页面的「资料与课件」支持追加文件，表格会即时刷新。
3. 直播结束后：
   - 管理员可在后台点击「生成报告」，填写出勤率与改进建议。
   - 生成后“讲座报告”卡片展示统计结果，并可执行「归档」。

## 5. 演示检查清单

| 场景 | 验证点 |
| --- | --- |
| 医生端列表 | 新建讲座出现且阶段为待审核；标签颜色与数据齐全 |
| 管理员操作 | 审核、发布、关闭报名、直播、报告、归档动作均能成功触发并在时间轴记录 |
| 患者端体验 | 讲座详情卡片样式与医生端保持一致，资料列表可展开 |
| 数据同步 | 上传资料、状态切换后刷新页面保持一致 |

## 6. 已知问题与后续建议

1. **报名用户渲染缺失**：外部报名者暂未写入参与人员卡片。建议在 Mock 层为报名操作追加伪参与者，并在医生/管理员端的 `participants` 表格内渲染。
2. **状态联动提示**：当管理员关闭报名或归档后，可考虑在患者端按钮上展示禁用提示。
3. **多角色切换体验**：演示时建议在浏览器开启多个无痕窗口，避免会话互相覆盖。

## 7. 附：快速清理与重置

| 操作 | 方法 |
| --- | --- |
| 重置讲座种子数据 | 浏览器控制台执行 `localStorage.removeItem('teaching.lectures.seed.v5')` 后刷新 |
| 清除登录态 | 执行 `localStorage.removeItem('medical_union_token'); localStorage.removeItem('medical_union_user');` |
| 同步演示环境 | 多窗口演示时建议在关键节点刷新，确保 Mock 数据一致 |

---

如需补充截图或录屏脚本，可在本文件同目录下创建 `assets/` 文件夹存放素材，并在文档内通过 Markdown 引用。欢迎根据现场反馈继续完善流程及已知问题清单。
